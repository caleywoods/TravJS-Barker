<html>

	<head>
		<script src="js/main.js" type="text/javascript"></script>
		<link rel="stylesheet" type="text/css" href="css/style.css">
		<link href="https://fonts.googleapis.com/css?family=Vast+Shadow" rel="stylesheet">
		<title>Travis Barker Emulator</title>
	</head>

	<body>
		<div class="wrapper">
			<div class="key-master">
				<div class="key-group" data-key="65">
					<div class="key">
						<p>A</p>	
					</div>
					<div class="description">
						<p>Clap</p>
					</div>
				</div>
				<div class="key-group" data-key="83">
					<div class="key">
						<p>S</p>
					</div>
					<div class="description">
						<p>HiHat</p>
					</div>				
				</div>
				<div class="key-group" data-key="68">
					<div class="key">
						<p>D</p>
					</div>
					<div class="description">
						<p>Kick</p>
					</div>				
				</div>
				<div class="key-group" data-key="70">
					<div class="key">
						<p>F</p>
					</div>
					<div class="description">
						<p>OpenHat</p>
					</div>				
				</div>
				<div class="key-group" data-key="71">
					<div class="key">
						<p>G</p>
					</div>
					<div class="description">
						<p>Boom</p>
					</div>				
				</div>
				<div class="key-group" data-key="72">
					<div class="key">
						<p>H</p>
					</div>
					<div class="description">
						<p>Ride</p>
					</div>				
				</div>
				<div class="key-group" data-key="74">
					<div class="key">
						<p>J</p>
					</div>
					<div class="description">
						<p>Snare</p>
					</div>				
				</div>
				<div class="key-group" data-key="75">
					<div class="key">
						<p>K</p>
					</div>
					<div class="description">
						<p>Tom</p>
					</div>				
				</div>
				<div class="key-group" data-key="76">
					<div class="key">
						<p>L</p>
					</div>
					<div class="description">
						<p>Tink</p>
					</div>
				</div>
			</div>			
		</div>

		<audio data-key="65" src="sounds/clap.wav"></audio>
		<audio data-key="83" src="sounds/hihat.wav"></audio>
		<audio data-key="68" src="sounds/kick.wav"></audio>
		<audio data-key="70" src="sounds/openhat.wav"></audio>
		<audio data-key="71" src="sounds/boom.wav"></audio>
		<audio data-key="72" src="sounds/ride.wav"></audio>
		<audio data-key="74" src="sounds/snare.wav"></audio>
		<audio data-key="75" src="sounds/tom.wav"></audio>
		<audio data-key="76" src="sounds/tink.wav"></audio>
	</body>

	<script>
		function removeTransition( e ) {
			if (e.propertyName !== 'transform') return;
			e.target.classList.remove('playing');
		}

		function playSound( e ) {
			const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
			const key = document.querySelector(`div[data-key="${e.keyCode}"]`);
			if (!audio) return;
			key.classList.add('playing');
			audio.currentTime = 0;
			audio.play();
		}

		const keys = Array.from(document.querySelectorAll('.key-group'));
		keys.forEach(key => key.addEventListener('transitionend', removeTransition));
		window.addEventListener('keydown', playSound);
	</script>

</html>